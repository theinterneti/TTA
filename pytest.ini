[pytest]
addopts = -q
# Restrict discovery to tests/ to avoid picking up non-test modules
testpaths = tests
# Exclude archived/obsolete tests
norecursedirs = archive .git __pycache__ .venv node_modules
# pytest-asyncio configuration
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function
filterwarnings =
    ignore:datetime.datetime.utcnow\(\) is deprecated:DeprecationWarning
    ignore:.*'crypt' is deprecated.*:DeprecationWarning
    ignore:.*pythonjsonlogger\.jsonlogger has been moved.*:DeprecationWarning
markers =
    neo4j: marks tests that require a running Neo4j database (deselect with '-m "not neo4j"')
    redis: marks tests that require a running Redis database (deselect with '-m "not redis"')
    integration: marks tests as integration tests (deselect with '-m "not integration"')
    performance: marks tests as performance tests (deselect with '-m "not performance"')
    comprehensive: marks tests as comprehensive battery tests (deselect with '-m "not comprehensive"')
    unit: marks tests as unit tests (isolated tests without external dependencies)
    property: marks tests as property-based tests (using hypothesis or similar)
    concrete: marks tests for concrete implementations (vs abstract tests)
    slow: marks tests that take significant time to run
    adversarial: marks tests for edge cases and error conditions
