# =============================================================================
# TTA Production Environment Configuration Template
# =============================================================================
# Copy this file to .env.production and update with your production values
# This file should NEVER be committed to version control
# Use secure secret management systems in production
# =============================================================================

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENVIRONMENT=production
NODE_ENV=production
PYTHONPATH=/app

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Configuration (Use managed database service in production)
POSTGRES_DB=tta_production_db
POSTGRES_USER=tta_prod_user
POSTGRES_PASSWORD=CHANGE_ME_SECURE_POSTGRES_PASSWORD
DATABASE_URL=postgresql://tta_prod_user:CHANGE_ME_SECURE_POSTGRES_PASSWORD@your-postgres-host:5432/tta_production_db

# Redis Configuration (Use managed Redis service in production)
REDIS_URL=redis://:CHANGE_ME_SECURE_REDIS_PASSWORD@your-redis-host:6379
REDIS_HOST=your-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_SECURE_REDIS_PASSWORD
REDIS_DB=0

# Neo4j Configuration (Use managed Neo4j service in production)
NEO4J_URI=bolt://your-neo4j-host:7687
NEO4J_URL=bolt://your-neo4j-host:7687
NEO4J_USER=neo4j
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=CHANGE_ME_SECURE_NEO4J_PASSWORD
NEO4J_DATABASE=tta_production

# =============================================================================
# AI MODEL CONFIGURATION
# =============================================================================

# OpenRouter (Recommended for production)
OPENROUTER_API_KEY=CHANGE_ME_PRODUCTION_OPENROUTER_KEY

# OpenAI (Optional)
OPENAI_API_KEY=CHANGE_ME_PRODUCTION_OPENAI_KEY
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=2048
OPENAI_TEMPERATURE=0.7

# Anthropic (Optional)
ANTHROPIC_API_KEY=CHANGE_ME_PRODUCTION_ANTHROPIC_KEY

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Configuration (Generate secure keys!)
JWT_SECRET_KEY=CHANGE_ME_SECURE_JWT_SECRET_MINIMUM_64_CHARACTERS_LONG
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Encryption Keys (Generate with: openssl rand -base64 32)
ENCRYPTION_KEY=CHANGE_ME_SECURE_ENCRYPTION_KEY_32_BYTES_BASE64
FERNET_KEY=CHANGE_ME_SECURE_FERNET_KEY_32_BYTES_BASE64

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API Server Settings
API_HOST=0.0.0.0
API_PORT=8080
API_DEBUG=false
API_RELOAD=false
API_LOG_LEVEL=INFO

# CORS Configuration (Restrict to your domains)
API_CORS_ORIGINS=https://your-domain.com,https://api.your-domain.com

# Rate Limiting (Strict for production)
API_RATE_LIMIT_CALLS=60
API_RATE_LIMIT_PERIOD=60

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# React App Configuration
REACT_APP_API_URL=https://api.your-domain.com
REACT_APP_WS_URL=https://api.your-domain.com
REACT_APP_DEBUG=false
REACT_APP_JWT_STORAGE_KEY=tta_access_token
REACT_APP_REFRESH_TOKEN_KEY=tta_refresh_token

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Core Features
FEATURE_AI_NARRATIVE=true
FEATURE_LIVING_WORLDS=true
FEATURE_CRISIS_SUPPORT=true
FEATURE_REAL_TIME_MONITORING=true

# Model Management Features
FEATURE_MODEL_MANAGEMENT=true
FEATURE_LOCAL_MODELS=false
FEATURE_CLOUD_MODELS=true

# Advanced Features (Enable as needed)
FEATURE_PREDICTIVE_ANALYTICS=false
FEATURE_EHR_INTEGRATION=false
FEATURE_MOBILE_APPS=false

# =============================================================================
# THERAPEUTIC CONFIGURATION
# =============================================================================

# Crisis Detection
CRISIS_DETECTION_ENABLED=true
CRISIS_HOTLINE_NUMBER=988
CRISIS_TEXT_NUMBER=741741
EMERGENCY_NUMBER=911

# Therapeutic Settings
DEFAULT_THERAPEUTIC_INTENSITY=medium
THERAPEUTIC_SAFETY_THRESHOLD=8.0
SESSION_TIMEOUT_MINUTES=45
MAX_CONCURRENT_SESSIONS=1000

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Logging Configuration
LOG_LEVEL=INFO
DATABASE_LOG_LEVEL=WARNING
API_LOG_LEVEL=INFO

# Sentry Configuration (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Monitoring Tools
GRAFANA_PASSWORD=CHANGE_ME_SECURE_GRAFANA_PASSWORD
GRAFANA_URL=https://monitoring.your-domain.com
GRAFANA_API_KEY=CHANGE_ME_PRODUCTION_GRAFANA_API_KEY

# Health Checks
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# =============================================================================
# EMAIL AND NOTIFICATIONS
# =============================================================================

# SMTP Configuration
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_USERNAME=CHANGE_ME_SMTP_USERNAME
SMTP_PASSWORD=CHANGE_ME_SMTP_PASSWORD
SMTP_USE_TLS=true

# Email Settings
FROM_EMAIL=noreply@your-domain.com
ADMIN_EMAIL=admin@your-domain.com

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

# SSL Certificate Paths
SSL_CERT_PATH=/etc/ssl/certs/your-domain.crt
SSL_KEY_PATH=/etc/ssl/private/your-domain.key
SSL_DHPARAM_PATH=/etc/ssl/certs/dhparam.pem

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup Settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=90

# AWS S3 Backup Configuration
AWS_ACCESS_KEY_ID=CHANGE_ME_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=CHANGE_ME_AWS_SECRET_KEY
AWS_BACKUP_BUCKET=your-backup-bucket
AWS_REGION=us-east-1

# =============================================================================
# HEALTHCARE COMPLIANCE
# =============================================================================

# HIPAA Configuration
HIPAA_AUDIT_ENABLED=true
HIPAA_ENCRYPTION_REQUIRED=true
HIPAA_ACCESS_LOGGING=true

# Data Retention Policies
PATIENT_DATA_RETENTION_YEARS=7
SESSION_DATA_RETENTION_MONTHS=24
AUDIT_LOG_RETENTION_YEARS=6

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Database Connection Pooling
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30

# Caching Configuration
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE_MB=1024

# =============================================================================
# SCALING CONFIGURATION
# =============================================================================

# Service Scaling
MIN_REPLICAS=3
MAX_REPLICAS=20
CPU_THRESHOLD_PERCENT=70
MEMORY_THRESHOLD_PERCENT=80

# Resource Limits (in MB)
API_MEMORY_LIMIT=2048
FRONTEND_MEMORY_LIMIT=512

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================

# Domain Names
PRODUCTION_DOMAIN=your-domain.com
API_DOMAIN=api.your-domain.com
MONITORING_DOMAIN=monitoring.your-domain.com

# =============================================================================
# PRODUCTION SECURITY CHECKLIST
# =============================================================================

# CRITICAL: Before deploying to production:
# 
# 1. ✅ Change ALL default passwords and keys
# 2. ✅ Use managed database services (RDS, ElastiCache, etc.)
# 3. ✅ Enable SSL/TLS for all connections
# 4. ✅ Configure proper firewall rules
# 5. ✅ Set up monitoring and alerting
# 6. ✅ Configure automated backups
# 7. ✅ Enable audit logging
# 8. ✅ Set up proper access controls
# 9. ✅ Configure disaster recovery procedures
# 10. ✅ Use secret management systems (AWS Secrets Manager, etc.)
# 11. ✅ Enable HIPAA compliance features
# 12. ✅ Configure rate limiting and DDoS protection
# 13. ✅ Set up log aggregation and analysis
# 14. ✅ Configure health checks and auto-scaling
# 15. ✅ Test crisis intervention workflows

# =============================================================================
# SECRET MANAGEMENT NOTES
# =============================================================================

# In production, consider using:
# - AWS Secrets Manager
# - Azure Key Vault  
# - Google Secret Manager
# - HashiCorp Vault
# - Kubernetes Secrets
# 
# Never store production secrets in plain text files!
